.TH SDDC 1 "November 2025" "libsddc" "User Commands"
.SH NAME
sddc \- low level functions library for wideband SDR receivers
.SH DESCRIPTION
libsddc is a low level functions library for wideband SDR receivers like
BBRF103, RX-666, RX888, HF103, and other compatible devices. It provides
device control, configuration, and data acquisition capabilities for
direct hardware access and signal processing.
.SH LIBRARY FUNCTIONS
.SS Device Management
.TP
.B sddc_get_device_count
Get the number of available SDDC devices.
.RS
.B Returns:
Count of available devices.
.RE

.TP
.B sddc_get_device_name(uint32_t index)
Get the name of a device at the specified index.
.RS
.B Parameters:
.IP index 10
The device index
.B Returns:
Pointer to device name string
.RE

.TP
.B sddc_get_device_usb_strings(uint32_t index, char *manufact, char *product, char *serial)
Get USB device strings (manufacturer, product, and serial number).
.RS
.B Note:
String arguments must provide space for up to 256 bytes.
.B Parameters:
.IP index 10
The device index
.IP manufact 10
Manufacturer name (may be NULL)
.IP product 10
Product name (may be NULL)
.IP serial 10
Serial number (may be NULL)
.B Returns:
0 on success
.RE

.TP
.B sddc_get_index_by_serial(const char *serial)
Get device index by USB serial string descriptor.
.RS
.B Parameters:
.IP serial 10
Serial string of the device
.B Returns:
.IP 0 10
Device index of first device with matching serial
.IP -1 10
If serial is NULL
.IP -2 10
If no devices were found at all
.IP -3 10
If devices were found, but none with matching serial
.RE

.TP
.B sddc_open(sddc_dev_t **dev, uint32_t index)
Open a device at the specified index.
.RS
.B Parameters:
.IP dev 10
Pointer to device handle
.IP index 10
The device index
.B Returns:
0 on success
.RE

.TP
.B sddc_open_raw(sddc_dev_t **dev, uint32_t index)
Open a device in raw mode.
.RS
.B Description:
At raw mode, data read from the device will be real int16_t samples at
the sampling rate * 2. The device will not support tuning at direct
sampling mode (HF Band).
.B Parameters:
.IP dev 10
Pointer to device handle
.IP index 10
The device index
.B Returns:
0 on success
.RE

.TP
.B sddc_close(sddc_dev_t *dev)
Close the device.
.RS
.B Parameters:
.IP dev 10
The device handle given by sddc_open()
.B Returns:
0 on success
.RE

.TP
.B sddc_get_usb_strings(sddc_dev_t *dev, char *manufact, char *product, char *serial)
Get USB device strings for an open device.
.RS
.B Note:
String arguments must provide space for up to 256 bytes.
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP manufact 10
Manufacturer name (may be NULL)
.IP product 10
Product name (may be NULL)
.IP serial 10
Serial number (may be NULL)
.B Returns:
0 on success
.RE

.SS Frequency Configuration
.TP
.B sddc_set_xtal_freq(sddc_dev_t *dev, uint32_t rtl_freq)
Set crystal oscillator frequencies used for the ADC.
.RS
.B Note:
The default frequency is 62MHz for most devices. This frequency depends on
the bandwidth and usable frequency range when in direct sampling mode.
Call this function only if you fully understand the implications.
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP rtl_freq 10
Frequency value used to clock ADC in Hz
.B Returns:
0 on success
.RE

.TP
.B sddc_get_xtal_freq(sddc_dev_t *dev, uint32_t *rtl_freq)
Get crystal oscillator frequencies used for the ADC.
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP rtl_freq 10
Frequency value used to clock the ADC in Hz
.B Returns:
0 on success
.RE

.TP
.B sddc_set_center_freq(sddc_dev_t *dev, uint32_t freq)
Set the center frequency for the device.
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP freq 10
Frequency in Hz
.B Returns:
.IP 0 10
On success
.IP -1 10
When the frequency is out of range
.IP -2 10
When the frequency setting needs stop read first
.RE

.TP
.B sddc_set_center_freq64(sddc_dev_t *dev, uint64_t freq)
Set the center frequency for the device (64-bit version).
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP freq 10
Frequency in Hz
.B Returns:
.IP 0 10
On success
.IP -1 10
When the frequency is out of range
.IP -2 10
When the frequency setting needs stop read first
.RE

.TP
.B sddc_get_center_freq(sddc_dev_t *dev)
Get the actual frequency the device is tuned to.
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.B Returns:
.IP 0 10
On error
.IP frequency 10
In Hz otherwise
.RE

.TP
.B sddc_get_center_freq64(sddc_dev_t *dev)
Get the actual frequency the device is tuned to (64-bit version).
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.B Returns:
.IP 0 10
On error
.IP frequency 10
In Hz otherwise
.RE

.SS Sample Rate Configuration
.TP
.B sddc_set_sample_rate(sddc_dev_t *dev, uint32_t rate)
Set the sample rate for the device and select baseband filters.
.RS
.B Note:
Raw mode does not support sample rate setting. Sample loss is to be expected
for rates > 2400000 Hz.
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP rate 10
The sample rate to be set. Possible values are:
.RS 10
.IP 225001 - 300000 Hz
.IP 900001 - 3200000 Hz
.RE
.B Returns:
0 on success, -EINVAL on invalid rate
.RE

.TP
.B sddc_get_sample_rate(sddc_dev_t *dev)
Get actual sample rate the device is configured to.
.RS
.B Note:
Sample rate is always equal to ADC XTAL frequency divided by 2 in raw mode.
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.B Returns:
.IP 0 10
On error
.IP sample_rate 10
In Hz otherwise
.RE

.SS Gain and Attenuation Control
.TP
.B sddc_set_if_gain(sddc_dev_t *dev, float value)
Set the IF gain value.
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP value 10
Gain value
.B Returns:
0 on success
.RE

.TP
.B sddc_get_if_gain(sddc_dev_t *dev, float *value)
Get the IF gain value.
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP value 10
Pointer to store gain value
.B Returns:
0 on success
.RE

.TP
.B sddc_get_if_gain_range(sddc_dev_t *dev, float *min, float *max)
Get the IF gain value range.
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP min 10
Pointer to store minimum gain value
.IP max 10
Pointer to store maximum gain value
.B Returns:
0 on success
.RE

.TP
.B sddc_set_rf_attenuator(sddc_dev_t *dev, float value)
Set the RF attenuator value.
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP value 10
Attenuator value
.B Returns:
0 on success
.RE

.TP
.B sddc_get_rf_attenuator(sddc_dev_t *dev, float *value)
Get the RF attenuator value.
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP value 10
Pointer to store attenuator value
.B Returns:
0 on success
.RE

.TP
.B sddc_get_rf_attenuator_range(sddc_dev_t *dev, float *min, float *max)
Get the RF attenuator value range.
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP min 10
Pointer to store minimum attenuator value
.IP max 10
Pointer to store maximum attenuator value
.B Returns:
0 on success
.RE

.SS Sampling Mode Control
.TP
.B sddc_set_direct_sampling(sddc_dev_t *dev, int on)
Enable or disable direct sampling mode.
.RS
.B Description:
When enabled, input from ADC will be directly sent to the application
without any mixing or filtering. This mode is useful for using the device
as a wideband receiver.
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP on 10
0 means disabled, 1 enabled
.B Returns:
0 on success
.RE

.TP
.B sddc_get_direct_sampling(sddc_dev_t *dev)
Get state of the direct sampling mode.
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.B Returns:
.IP -1 10
On error
.IP 0 10
Disabled
.IP 1 10
Enabled
.RE

.SS Data Streaming
.TP
.B sddc_read_async(sddc_dev_t *dev, sddc_read_async_cb_t cb, void *ctx, uint32_t buf_num, uint32_t buf_len)
Read samples from the device asynchronously. This function will block until the read is canceled via sddc_cancel_async().
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP cb 10
Callback function to return received samples
.IP ctx 10
User specific context to pass via callback function
.IP buf_num 10
Optional buffer count (buf_num * buf_len = overall buffer size).
Set to 0 for default buffer count (15).
.IP buf_len 10
Optional buffer length. Must be multiple of 512, should be a multiple
of 16384 (URB size). Set to 0 for default buffer length (16 * 32 * 512).
.B Returns:
0 on success
.RE

.TP
.B sddc_cancel_async(sddc_dev_t *dev)
Cancel all pending asynchronous operations on the device.
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.B Returns:
0 on success
.RE

.SS Bias Tee Control
.TP
.B sddc_set_bias_tee(sddc_dev_t *dev, int on)
Enable or disable the bias tee on GPIO PIN 0.
.RS
.B Parameters:
.IP dev 10
Device handle given by sddc_open()
.IP on 10
Bias tee control value:
.RS 10
.IP 0 10
Bias T off
.IP 1 10
HF Bias T on
.IP 2 10
VHF Bias T on
.IP 3 10
Both on
.RE
.B Returns:
.IP -1 10
If device is not initialized
.IP 0 10
Otherwise
.RE

.SH SUPPORTED DEVICES
The libsddc library supports the following wideband SDR receiver devices:
.IP \[bu] 2
BBRF103
.IP \[bu] 2
RX-666
.IP \[bu] 2
RX888
.IP \[bu] 2
HF103
.SH COPYRIGHT
Copyright (C) 2025 by Howard Su
Copyright (C) 2020 by Franco Venturi

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see https://www.gnu.org/licenses/.

SPDX-License-Identifier: GPL-3.0-or-later
.SH SEE ALSO
.BR libusb (3)
